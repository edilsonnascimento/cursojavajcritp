07 - Remoção, Delegação e Animação

01 - Explicação 

# Remove.js

// vetor com todos os pacientes.
var pacientes = document.querySelectorAll(".paciente");

// percorre o array de pacientes atribui eveto de duplo clique e remove o paciente atual(this).
pacientes.forEach(function(paciente) {
    paciente.addEventListener("dblclick", function(){
        this.remove();
    });
});


02 - Um duplo clique
Qual o nome do evento que escuta um clique duplo do usuário em algum elemento?
O nome do evento correto é dblclick ! Além dos eventos que já vimos aqui no curso, existem muitos outros tipos, que variam desde aonde o seu usuário interage com a página até quando ele altera o tamanho do navegador!
Você pode conferir https://developer.mozilla.org/en-US/docs/Web/Events os diversos tipos de eventos que existem no navegador.


03 - Delegando eventos
Os eventos vão subindo para os elementos superiores, até ser escutado.
Exemplo: <table>  escuta os seus filhos: <th>, <tr> e <td>.

//captura elemento da tabela.
var tabela = document.querySelector("table");

//escata o evento de duplo clique.
tabela.addEventListener("dblclick", function(event){
    console.log(event.target);
    
});


04 - O escolhido foi você!

this

HTML
<ul>
    <li>A</li>
    <li>B</li>
    <li>C</li>
</ul>

JS
<script>
    var lis = document.querySelectorAll('li');
    for(var i = 0; i < lis.length; i++) {
        lis[i].addEventListener('click', function() {
            alert(this.textContent);
        });
    }
</script>

Quando clicar em qualquer <li> ira mostrar a letra(A, B, C) textContent.

05 - Analisando o código
<ul class="lista">
    <li>A</li>
    <li>B</li>
    <li>C</li>
</ul>

<input id="campo"><button id="botao">Adiciona</button>
<script>
    var lis = document.querySelectorAll('li');
    for(var i = 0; i < lis.length; i++) {
        lis[i].addEventListener('click', function() {
            alert(this.textContent);
        });
    }
    var botao = document.querySelector('#botao');
    var input = document.querySelector('#campo');
    var lista = document.querySelector('.lista');
    botao.addEventListener('click',function() {
        var li = document.createElement('li');
        li.textContent = input.value;
        lista.appendChild(li);
    });
</script>
Adiciona um elemento porem não exibe a mensagem de alet, apra essa nova linha criada.

06 - Animando a remoção do paciente
.fadeOut {
    opacity: 0; // não exibe o conteúdo do elemento.
    transition: 0.5s; // 5 segundos para apagar o conteúdo do elemento.
}




07 - Mãos na massa: removendo os paciente
Implementado.
var tabela = document.querySelector("table");

tabela.addEventListener("dblclick", function(event) {

    if(event.target.tagName != "TH"){    
        event.target.parentNode.classList.add("fadeOut");
        setTimeout(function() {
            event.target.parentNode.remove();        
        }, 500);
    }
});

08 - Mãos na massa: animando a remoção

INDEX.CSS

.fadeOut {
    opacity: 0;
    transition: 0.5s;
}

