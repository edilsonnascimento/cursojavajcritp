04 - Eventos, Formulários e Criando Elementos

01 - Escutando eventos

Adicionar o evento addEventListener

titulo.addEventListener("click",function(){
   console.log("fui clicado");
})

var botaoAdicionar = document.querySelector("#adicionar-paciente");

botaoAdicionar.addEventListener("click",function(){
   console.log(botaoAdicionar);
})

02 - O botão que falhou

Função anonima
titulo.addEventListener("click",function(){
   console.log("fui clicado");
})

titulo.addEventListener("click",function());

Função linear

var tituloForm = document.querySelector("#titulo-form");

tituloForm.addEventListener("click", mostraTituloPrincipal);

function mostraTituloPrincipal(){
   console.log("mais um papapapa....");
}

03 - Copiando valores

<input class="frase"><button class="botao">Copiar</button><span class="copia"></span>
<script>
    var inputFrase = document.querySelector('.frase');
    var botao = document.querySelector('.botao');
    var copia = document.querySelector('.copia');

    function botaoHandler() {
        copia.textContent = inputFrase.value;
        inputFrase.value = '';
    }

    botao.addEventListener('click', botaoHandler);
 </script>


04 - Evitando o comportamento padrão de um evento
var botaoAdicionar = document.querySelector("#adicionar-paciente");
botaoAdicionar.addEventListener("click", function(event) {
    event.preventDefault();
    console.log("Oi eu sou o botao e fui clicado");
});


05 - Uma lista que não cresce

Outro exemplo para altear o comportamento padrão do form.

06 - Adicionando pacientes na tabela

Adicinado html.

- Capitura o form
var form = document.querySelector("#form-adiciona");

- Captura valor do form
var nome = form.nome.value;

- Cria linha
var pacienteTr = document.createElement("tr");

- Cria <td>
var nomeTd = document.createElement("td");


- Adiciona valro na td
nomeTd.textContent = nome;

- aplica td ao tr
pacienteTr.appendChild(nomeTd);

- Capitura Tabela
var tabela = document.querySelector("#tabela-pacientes");

- Adiciona tr na tabela
tabela.appendChild(pacienteTr);


07 - De declaração de função para função anônima

* Função
var botao = document.querySelector('#botao');
function botaoHandler() {
    alert('Botão clicado');
}
botao.addEventListener('click', botaoHandler);

* Função anônima:
var botao = document.querySelector('#botao');
botao.addEventListener('click', function() {
    alert('Botão clicado');
});


08 - Tem nome ou não ?

Qual dos seguintes códigos exibe o mesmo resultado que o Javascript abaixo ?
var titulo = document.querySelector("#titulo");
titulo.addEventListener("click", mostraMensagem);

function mostraMensagem(){
    console.log("Fui clicado");
}

09 - Criando um elemento

Qual código Javascript abaixo cria uma <div> como esta :
<div>
    <h1 class="titulo"> Mirror Fashion </h1>
    <p> Uma loja de roupa fantástica</p>
</div>


var div = document.createElement("div");
var h1 = document.createElement("h1");
h1.classList.add("titulo");
h1.textContent = "Mirror Fashion";

var p = document.createElement("p");
p.textContent = "Uma loja de roupa fantástica";

div.appendChild(h1);
div.appendChild(p);

A função responsável por criar elementos no Javascript é a createElement().Com ela passamos o nome da tag que queremos criar e ela nos retorna um objeto HTML que pode ser alterado com as propriedades do Javascript, como a .textContent e a .classList.

var titulo = document.querySelector("#titulo");
titulo.addEventListener("click", function(){
    console.log("Fui clicado");
});


10 - Mãos na Massa: Criando o formulário de adição de paciente
Feito

11 Mãos na Massa: Adicionando um paciente na tabela
Feito

12 - Para saber mais: event shortcut

Se utilizar addEventListener(), em seguida vai encadeando para não encadear e executar apenas o último evento pode utilizar o onClick.

<!doctype html>
<html>
  <head>

    <meta charset="UTF-8">
    <title>onload test</title>    

  </head>

  <body>
    <button id="botao">clique-me</button>           
    <script>
        var botao = document.querySelector('#botao');

        function botaoHandler() {
            alert('Botão clicado');
        }

        function outroHandler() {
            alert('Botão clicado também!');
        }

        //botao.addEventListener('click', botaoHandler);
        //botao.addEventListener('click', outroHandler);
        botao.onclick = botaoHandler;
        botao.onclick = outroHandler;
    </script>

  </body>
</html>

#

Cria evento.
var botaoAdicionar = document.querySelector("#adicionar-paciente");
titulo.addEventListener("click",function(){
   console.log("fui clicado");
})

Altera comportamento padrão do FORM(enviar form e reload da página)
event.preventDefault();

Criar Elemento <h1>, <p>, <td>, <tr>, ...
Exemplo:
Qual código Javascript abaixo cria uma <div> como esta :
<div>
    <h1 class="titulo"> Mirror Fashion </h1>
    <p> Uma loja de roupa fantástica</p>
</div>

var div = document.createElement("div");
var h1 = document.createElement("h1");
h1.classList.add("titulo");
h1.textContent = "Mirror Fashion";

var p = document.createElement("p");
p.textContent = "Uma loja de roupa fantástica";

div.appendChild(h1);
div.appendChild(p);






